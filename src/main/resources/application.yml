spring:
  datasource:
    url: jdbc:h2:mem:test_db
  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
    defer-datasource-initialization: true
  sql:
    init:
      mode: always
commerce:
  server:
    port: 15002
---
spring:
  config:
    activate:
      on-profile: server
  datasource:
    url: jdbc:postgresql://db:5432/postgres
    username: postgres
    password: postgres
commerce:
  server:
    available:
      time: 600
---
spring:
  config:
    activate:
      on-profile: transaction-client
  jpa:
    hibernate:
      ddl-auto: none
commerce:
  server:
    host: server
  client:
    request:
      count: 100
      delay:
        between: 5000
---
spring:
  config:
    activate:
      on-profile: report-client
  jpa:
    hibernate:
      ddl-auto: none
commerce:
  server:
    host: server
  client:
    request:
      count: 10
      delay:
        between: 30000
      report:
        duration: 30